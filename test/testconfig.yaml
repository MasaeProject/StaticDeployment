- name: test-project1
  source: test/data/test-project1/index.html
  replace:
    - name: en
      prerun:
        default:
          - - $CP
            - $SRC
            - test/out/en/p1/index.ts
    - name: zh
      replace:
        - old: Welcome!
          new: 欢迎!
          num: 1
        - old: Kagurazaka Yashi
          new: 神楽坂雅詩
          num: -1
      run:
        default:
          - - $CP
            - test/out/zh/p1/index.ts
    - name: ja
      replace:
        - old: Welcome!
          new: ようこそ!
          num: 1
        - old: Kagurazaka Yashi
          new: かぐらざか みやび
          num: -1
      run:
        default:
          - - $CP
            - test/out/ja/p1/index.ts
- name: test-project2
  source: test/data/test-project2/index.ts
  replace:
    - name: en
      replace:
        - old: red
          new: orange
          num: 1
        - old: "Hello, World!"
          new: Welcome!
          num: 1
      run:
        default:
          - - tsc
            - $SRC
          - - $MV
            - $SRCDIR/$SRCNAME.js
            - test/out/en/p2/index.js
    - name: zh
      replace:
        - old: red
          new: orange
          num: 1
        - old: "Hello, World!"
          new: 欢迎!
          num: 1
      run:
        default:
          - - tsc
            - $SRC
          - - $MV
            - $SRCDIR/$SRCNAME.js
            - test/out/zh/p2/index.js
    - name: ja
      replace:
        - old: red
          new: orange
          num: 1
        - old: "Hello, World!"
          new: ようこそ!
          num: 1
      run:
        default:
          - - tsc
            - $SRC
          - - $MV
            - $SRCDIR/$SRCNAME.js
            - test/out/ja/p2/index.js
